<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rubina</title>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="styled.css" />
    <link
      rel="stylesheet"
      href="https://maxst.icons8.com/vue-static/landings/line-awesome/font-awesome-line-awesome/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Edu+TAS+Beginner:wght@400;500;600;700&family=Montserrat:wght@100;200;300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css"
    />
  </head>
  <body>
    <header>
      <nav class="sticky-nav">
        <a href="index.html">
          <div class="logo">
            <img src="img/logo/Rubinalogo2.PNG" alt="" />
          </div>
        </a>
        <div class="container">
          <ul class="menu-main">
            <li><a href="index.html">HOME</a></li>
            <li>
              <a href="shop.html">SHOP</a>
              <div class="menu-sub">
                <div class="menu-col-1">
                  <h3 class="menu-category">CANDLES</h3>
                  <ul>
                    <li><a href="">1- Wick</a></li>
                    <li><a href="">2-Wick</a></li>
                    <li><a href="">Black Collection</a></li>
                    <li><a href="">Flower Collection</a></li>
                    <li><a href="">CBD Candles</a></li>
                    <li><a href="">Fragrances</a></li>
                  </ul>
                </div>

                <div class="menu-col-1">
                  <h3 class="menu-category">ONE OF ONE</h3>
                  <ul>
                    <li><a href="">Grape Fruit Lemon Grass</a></li>
                    <li><a href="">Hot Pink Lime</a></li>
                    <li><a href="">Blue Agave</a></li>
                  </ul>
                </div>
                <!-- Add more categories as needed -->
              </div>
            </li>
            <li><a href="">COLLECTIONS</a></li>
            <li><a href="#">FRAGRANCES</a></li>
            <li><a href="">ABOUT</a></li>
            <!-- Open Btn -->
            <li class="cart-icon">
              <a href="#" id="open_cart_btn"
                >CART (<span id="items_num">0</span>)</a
              >
            </li>
          </ul>
        </div>
      </nav>
    </header>

    <!-- Product Page -->
    <section id="product-page">
      <div class="product-details">
        <!-- Product details will be loaded dynamically -->
      </div>
      <div class="product-text">
        <!-- Product text and add to cart button -->
      </div>
    </section>

    <div class="container">
      <!-- Items -->
      <div class="items"></div>

      <!-- Backdrop -->
      <div class="backdrop"></div>
      <!-- Side Cart -->
      <div id="sidecart" class="sidecart">
        <div class="cart_content">
          <!-- Cart Header -->
          <div class="cart_header">
            <div class="header_title">
              <h2>CART</h2>
            </div>
            <span id="close_btn" class="close_btn">&times;</span>
          </div>
          <!-- Cart Items -->
          <div class="cart_items"></div>
          <!-- Cart Actions -->
          <div class="cart_actions">
            <div class="subtotal"></div>
            <button id="checkoutButton">CHECKOUT</button>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer">
      <div class="container6">
        <div class="row">
          <div class="footer-col">
            <h4>company</h4>
            <ul>
              <li><a href="#">about us</a></li>
              <li><a href="#">our services</a></li>
              <li><a href="#">privacy policy</a></li>
              <li><a href="#">affiliate program</a></li>
            </ul>
            <div class="copyright">
              <span>&copy; RUBINA 2019</span>
            </div>
          </div>
          <div class="footer-col">
            <h4>follow us</h4>
            <div class="social-links">
              <a href="#"><i class="fab fa-instagram"></i></a>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- JavaScript -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const params = new URLSearchParams(window.location.search);
        const productId = parseInt(params.get("id"));

        // Sample product details for product 1
        const product1 = {
          id: 1,
          brand: "Rubina",
          name: "Ruby Rose",
          price: 50.0,
          image: "img/products/RubinaBall.png",
          description: `Indulge in the enchanting allure of "Ruby Rose"
                      — a captivating candle<br> that harmoniously blends the timeless elegance of rose water with <br>the delicate notes of jasmine an citrusy zest of bergamot. Let the <br>soothing aroma fill your space, creating a warm and inviting <br>ambiance. Elevate your senses with this exquisite combination of <br>floral and citrus fragrances`,
        };

        // Sample product details for product 2
        const product2 = {
          id: 2,
          brand: "Rubina",
          name: "Ruby Soft",
          price: 50.0,
          image: "img/products/Rubinasoft.png",
          description: `Indulge in the enchanting allure of "Ruby Soft"
                      — a captivating candle<br> that harmoniously blends the timeless elegance of rose water with <br>the delicate notes of jasmine an citrusy zest of bergamot. Let the <br>soothing aroma fill your space, creating a warm and inviting <br>ambiance. Elevate your senses with this exquisite combination of <br>floral and citrus fragrances`,
        };

        // Sample product details for product 3
        const product3 = {
          id: 3,
          brand: "Your Brand",
          name: "Third Product",
          price: 60.0,
          image: "img/products/Rubinagold.png",
          description: `Indulge in the enchanting allure of "Ruby Soft"
                      — a captivating candle<br> that harmoniously blends the timeless elegance of rose water with <br>the delicate notes of jasmine an citrusy zest of bergamot. Let the <br>soothing aroma fill your space, creating a warm and inviting <br>ambiance. Elevate your senses with this exquisite combination of <br>floral and citrus fragrances`,
        };

        // Sample product details for product 4
        const product4 = {
          id: 4,
          brand: "Your Brand",
          name: "Fourth Product",
          price: 70.0,
          image: "img/products/Rubinacognac.png",
          description: `Indulge in the enchanting allure of "Ruby Soft"
                      — a captivating candle<br> that harmoniously blends the timeless elegance of rose water with <br>the delicate notes of jasmine an citrusy zest of bergamot. Let the <br>soothing aroma fill your space, creating a warm and inviting <br>ambiance. Elevate your senses with this exquisite combination of <br>floral and citrus fragrances`,
        };

        // Determine which product details to display based on the product ID
        let product;
        if (productId === 1) {
          product = product1;
        } else if (productId === 2) {
          product = product2;
        } else if (productId === 3) {
          product = product3;
        } else if (productId === 4) {
          product = product4;
        }

        // Populate product details
        const productDetailsDiv = document.querySelector(".product-details");
        productDetailsDiv.innerHTML = `
        <a href="product_page.html?id=${product.id}">
          <img src="${product.image}" alt="${product.name}">
        </a>
        <div>
          <h2>${product.brand}</h2> <!-- Display brand on top -->
          <h1>${product.name}</h1> <br>
          <p>$ ${product.price.toFixed(2)}</p>
          <h3>${product.description}</h3>
          <p class="size-text">Size:</p>
          <div class="product-buttons"> <!-- Container for the buttons -->
              <button class="wick-button">1-Wick</button>
              <button class="wick-button">2-Wick</button>
          </div>
         
          <div class="quantity-control">
              <button class="subtract">-</button>
              <span class="quantity">1</span>
              <button class="add">+</button>
          </div>
          <button id="addToCartButton">ADD TO CART</button> <!-- Add to Cart button -->
        </div>
      `;

        // Get the quantity control elements
        const subtractButton = document.querySelector(".subtract");
        const addButton = document.querySelector(".add");
        const quantityElement = document.querySelector(".quantity");

        // Initial quantity value
        let quantity = 1;

        // Function to update the quantity display
        const updateQuantity = () => {
          quantityElement.textContent = quantity;
        };

        // Event listener for subtract button
        subtractButton.addEventListener("click", function () {
          if (quantity > 1) {
            quantity--; // Decrease quantity by 1
            updateQuantity(); // Update the quantity display
          }
        });

        // Event listener for add button
        addButton.addEventListener("click", function () {
          quantity++; // Increase quantity by 1
          updateQuantity(); // Update the quantity display
        });

        const addToCartBtn = document.getElementById("addToCartButton");
        if (addToCartBtn) {
          addToCartBtn.addEventListener("click", function (event) {
            event.preventDefault(); // Prevent the default behavior of the anchor tag
            addToCart(product, quantity); // Call a function to add item to cart with quantity
            document.body.classList.add("showCart"); // Show the side cart
          });
        }
      });

      // Function to add product to cart
      function addToCart(product, quantity) {
        // Assuming you have a global variable for cart items
        let cartItems = [];

        // Check if cart items exist in localStorage
        if (localStorage.getItem("cartItems")) {
          cartItems = JSON.parse(localStorage.getItem("cartItems"));
        }

        // Add the selected product to cart with specified quantity
        for (let i = 0; i < quantity; i++) {
          cartItems.push(product);
        }

        // Update cart items count in the UI
        updateCartItemsCount(cartItems.length);

        // Save cart items to localStorage
        localStorage.setItem("cartItems", JSON.stringify(cartItems));

        // Optionally, you can also update the UI to reflect the added item
        // For example, you can update the cart preview or show a success message
      }

      // Function to update cart items count in the UI
      function updateCartItemsCount(count) {
        const itemsNum = document.getElementById("items_num");
        if (itemsNum) {
          itemsNum.textContent = count;
        }
      }
    </script>

    <!-- Your other scripts -->
    <script src="main.js"></script>
    <script src="app.js"></script>
    <script src="script.js"></script>
  </body>
</html>
